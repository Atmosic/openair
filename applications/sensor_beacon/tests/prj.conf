# SPDX-License-Identifier: Apache-2.0
# Copyright (c) 2025 Atmosic

# Test framework
CONFIG_ZTEST=y

# BT Configuration (minimal for testing)
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_EXT_ADV=y
CONFIG_BT_MAX_CONN=1
CONFIG_BT_DEVICE_NAME="Test Beacon"
CONFIG_BT_DEVICE_NAME_DYNAMIC=y
CONFIG_BT_DEVICE_NAME_MAX=18

# Extended advertising configuration for single advertising set
CONFIG_BT_EXT_ADV_MAX_ADV_SET=1

# Battery measurement
CONFIG_ADC=y
CONFIG_ADC_LOG_LEVEL_ERR=y

# Sensor measurement
CONFIG_I2C=y
CONFIG_SENSOR=y
CONFIG_SENSOR_LOG_LEVEL_DBG=y

# Application-specific configuration
CONFIG_SENSOR_BEACON_UPDATE_INTERVAL=100
CONFIG_SENSOR_BEACON_FAST_ADV=n
CONFIG_SENSOR_BEACON_LOG_LEVEL_DBG=y
CONFIG_SENSOR_BEACON_ACCEL_SCALING_FACTOR=16000
CONFIG_SENSOR_BEACON_TEMP_SCALING_FACTOR=256
CONFIG_SENSOR_BEACON_HUMIDITY_SCALING_FACTOR=256

# Disable power management for testing
CONFIG_PM=n

# Stack sizes
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Stack sentinel
CONFIG_STACK_SENTINEL=y

# C library
CONFIG_NEWLIB_LIBC=y
CONFIG_NEWLIB_LIBC_NANO=y

# Logging
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=4



# Disable unused features
CONFIG_BT_SMP=n
CONFIG_BT_GATT_CLIENT=n
CONFIG_BT_GATT_SERVICE_CHANGED=n
CONFIG_BT_GATT_CACHING=n
CONFIG_BT_GATT_AUTO_DISCOVER_CCC=n

# Test-specific configurations
CONFIG_ZTEST_STACK_SIZE=2048
