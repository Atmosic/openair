# SPDX-License-Identifier: Apache-2.0
# Copyright (c) 2025 Atmosic

# BT Configuration
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_EXT_ADV=y
CONFIG_BT_MAX_CONN=1
CONFIG_BT_DEVICE_NAME="Sensor Beacon Debug"
CONFIG_BT_DEVICE_NAME_DYNAMIC=y
CONFIG_BT_DEVICE_NAME_MAX=22

# Extended advertising configuration for single advertising set
CONFIG_BT_EXT_ADV_MAX_ADV_SET=1

# Battery measurement
CONFIG_ADC=y
CONFIG_ADC_LOG_LEVEL_DBG=y

# Sensor measurement - ALWAYS ENABLED (core functionality)
CONFIG_I2C=y
CONFIG_SENSOR=y
CONFIG_SENSOR_LOG_LEVEL_DBG=y

# Application configuration
CONFIG_SENSOR_BEACON_UPDATE_INTERVAL=100
# Application module logging
CONFIG_SENSOR_BEACON_LOG_LEVEL_DBG=y

# Sensor scaling factors (optimized for Â±16g range and mobile app compatibility)
CONFIG_SENSOR_BEACON_TEMP_SCALING_FACTOR=256
CONFIG_SENSOR_BEACON_HUMIDITY_SCALING_FACTOR=256
CONFIG_SENSOR_BEACON_ACCEL_SCALING_FACTOR=1000

# Power management
CONFIG_PM=y

# WATCHDOG
CONFIG_WDOG_CMSDK_APB_START_AT_BOOT=y

# Stack sizes
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=1024

# Stack sentinel
CONFIG_STACK_SENTINEL=y

# C library
CONFIG_NEWLIB_LIBC=y
CONFIG_NEWLIB_LIBC_NANO=y

# Logging - SELECTIVE DEBUG (application debug, OS info only)
CONFIG_LOG=y
# Info level default to avoid scheduler noise
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_BACKEND_UART=y
CONFIG_LOG_FUNC_NAME_PREFIX_DBG=y

# Disable specific noisy debug modules
CONFIG_KERNEL_LOG_LEVEL_WRN=y
CONFIG_LOG_OVERRIDE_LEVEL=3

# Disable unused BT features to save memory and power
CONFIG_BT_SMP=n
CONFIG_BT_GATT_CLIENT=n
CONFIG_BT_GATT_SERVICE_CHANGED=n
CONFIG_BT_GATT_CACHING=n
CONFIG_BT_GATT_AUTO_DISCOVER_CCC=n
