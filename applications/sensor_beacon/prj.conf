# SPDX-License-Identifier: Apache-2.0
# Copyright (c) 2025 Atmosic

# BT Configuration
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_EXT_ADV=y
CONFIG_BT_MAX_CONN=1
CONFIG_BT_DEVICE_NAME="Atmosic Sensor Beacon"
CONFIG_BT_DEVICE_NAME_DYNAMIC=y
CONFIG_BT_DEVICE_NAME_MAX=22

# Extended advertising configuration for single advertising set
CONFIG_BT_EXT_ADV_MAX_ADV_SET=1

# LED and Button support
CONFIG_GPIO=y
CONFIG_INPUT=y

# Battery measurement
CONFIG_ADC=y
CONFIG_ADC_LOG_LEVEL_ERR=y

# Sensor measurement - ALWAYS ENABLED (core functionality)
CONFIG_I2C=y
CONFIG_SENSOR=y
CONFIG_SENSOR_LOG_LEVEL_WRN=y
CONFIG_ATM_SOCOFF_MAX_DURATION_SEC=900

# Application configuration
CONFIG_SENSOR_BEACON_UPDATE_INTERVAL=100
CONFIG_ATM_SETTINGS=y

# Sensor scaling factors (optimized for Â±16g range and mobile app compatibility)
CONFIG_SENSOR_BEACON_TEMP_SCALING_FACTOR=256
CONFIG_SENSOR_BEACON_HUMIDITY_SCALING_FACTOR=256
CONFIG_SENSOR_BEACON_ACCEL_SCALING_FACTOR=1000

# Stack sizes
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=1024

# Stack sentinel
CONFIG_STACK_SENTINEL=y

# C library
CONFIG_NEWLIB_LIBC=y
CONFIG_NEWLIB_LIBC_NANO=y

# Logging - MINIMAL (warnings and errors only)
CONFIG_LOG=y
# Warning level for production
CONFIG_LOG_DEFAULT_LEVEL=2
# Application module logging
CONFIG_SENSOR_BEACON_LOG_LEVEL_WRN=y

# Disable unused BT features to save memory and power
CONFIG_BT_SMP=n
CONFIG_BT_GATT_CLIENT=n
CONFIG_BT_GATT_SERVICE_CHANGED=n
CONFIG_BT_GATT_CACHING=n
CONFIG_BT_GATT_AUTO_DISCOVER_CCC=n

# Disable debugging features for production
CONFIG_THREAD_RUNTIME_STATS=n
