tests:
  pm.soc:
    platform_allow:
      - cc26x2r1_launchxl
      - cc1352r1_launchxl
      - mec15xxevb_assy6853
      - mec1501modular_assy6885
      - nucleo_f429zi
      - nucleo_wb55rg
      - nucleo_l476rg
      - twr_ke18f
      - mimxrt595_evk/mimxrt595s/cm33
      - rd_rw612_bga
      - frdm_ke17z
      - frdm_ke17z512
    tags: pm
    integration_platforms:
      - mec15xxevb_assy6853
  tests.subsys.pm.power_mgmt_soc.atm:
    sysbuild: true
    harness: console
    harness_config:
      type: one_line
      regex:
        - PROJECT EXECUTION SUCCESSFUL
    tags: atm33 atm34
    extra_args:
      - spe_EXTRA_CONF_FILE=${BOARD_DIR}/sysbuild/spe.conf
      - EXTRA_CONF_FILE=${BOARD_DIR}/sysbuild/app.conf
      - SB_CONFIG_SPE=y
    extra_configs:
      - CONFIG_ATMWSTKLIB=""
      - CONFIG_USE_ATMWSTK=y