# Copyright (c) Atmosic 2024-2025
#
# SPDX-License-Identifier: Apache-2.0

if(CONFIG_ATM_VENDOR)
    zephyr_include_directories(.)
    zephyr_sources(atm_vendor.c)
    zephyr_compile_definitions_ifdef(CONFIG_VND_DBG_MMR CFG_VND_DBG_MMR)
    zephyr_compile_definitions_ifdef(CONFIG_VND_DBG_MMW CFG_VND_DBG_MMW)
    zephyr_compile_definitions_ifdef(CONFIG_VND_BLE_REGR CFG_VND_BLE_REGR)
    zephyr_compile_definitions_ifdef(CONFIG_VND_BLE_REGW CFG_VND_BLE_REGW)
    zephyr_compile_definitions_ifdef(CONFIG_VND_EN_TXCW CFG_VND_EN_TXCW)
    zephyr_compile_definitions_ifdef(CONFIG_VND_CAP_V1 CFG_VND_CAP_V1)
    zephyr_compile_definitions_ifdef(CONFIG_VND_CAP_V2 CFG_VND_CAP_V2)
    zephyr_compile_definitions_ifdef(CONFIG_VND_SYS_MMR CFG_VND_SYS_MMR)
    if(CONFIG_VND_PV_TEST)
        zephyr_compile_definitions(CFG_VND_PV_TEST)
        zephyr_compile_definitions(CFG_NONRF_HARV)
        zephyr_compile_definitions(VHARV_RANGE=VHARV_RANGE_1P7V_2P0V)
        zephyr_compile_definitions(VSTORE_MAX_EQ_3p3V)
    endif()
    zephyr_compile_definitions_ifdef(CONFIG_VND_PSM CFG_VND_PSM)
    zephyr_compile_definitions_ifdef(CONFIG_VND_TAG_RD_V1 CFG_VND_TAG_RD_V1)
    zephyr_compile_definitions_ifdef(CONFIG_VND_TAG_RD_V2 CFG_VND_TAG_RD_V2)
    zephyr_compile_definitions_ifdef(CONFIG_VND_SET_BDDR CFG_VND_SET_BDDR)
    zephyr_compile_definitions_ifdef(CONFIG_VND_SET_ADV_CH CFG_VND_SET_ADV_CH)
    zephyr_compile_definitions_ifdef(CONFIG_VND_OTP_PUSH CFG_VND_OTP_PUSH)
    zephyr_compile_definitions_ifdef(CONFIG_VND_MALLOC CFG_VND_MALLOC)
    zephyr_compile_definitions_ifdef(CONFIG_VND_IO_CTRL CFG_VND_IO_CTRL)
    zephyr_compile_definitions_ifdef(CONFIG_VND_GADC_V1 CFG_VND_CFG_VND_GADC_V1)
    zephyr_compile_definitions_ifdef(CONFIG_VND_GADC_V2 CFG_VND_CFG_VND_GADC_V2)
    zephyr_compile_definitions_ifdef(CONFIG_VND_GPIO_TEST CFG_VND_GPIO_TEST)
    zephyr_compile_definitions_ifdef(CONFIG_VND_COREMARK CFG_VND_COREMARK)
    zephyr_compile_definitions_ifdef(CONFIG_VND_WFI CFG_VND_WFI)
    zephyr_compile_definitions_ifdef(CONFIG_VND_NO_CLOCK CFG_VND_NO_CLOCK)
    zephyr_compile_definitions_ifdef(CONFIG_VND_WHILE_ONE CFG_VND_WHILE_ONE)
    zephyr_compile_definitions_ifdef(CONFIG_VND_PMU_RADIO_REGR CFG_VND_PMU_RADIO_REGR)
    zephyr_compile_definitions_ifdef(CONFIG_VND_PMU_RADIO_REGW CFG_VND_PMU_RADIO_REGW)
    zephyr_compile_definitions_ifdef(CONFIG_VND_XTAL_32K_PIN_OUT CFG_VND_XTAL_32K_PIN_OUT)
    zephyr_compile_definitions_ifdef(CONFIG_VND_SET_TX_PWR CFG_VND_SET_TX_PWR)
endif()

if(CONFIG_ATM_VENDOR_API)
    zephyr_include_directories(api_include)
    zephyr_sources(atm_vendor_api.c)
    zephyr_compile_definitions_ifdef(CONFIG_VND_API_SET_PREF_SLAVE_LAT CFG_VND_API_SET_PREF_SLAVE_LAT)
    zephyr_compile_definitions_ifdef(CONFIG_VND_API_SET_ADV_TX_POWER CFG_VND_API_SET_ADV_TX_POWER)
    zephyr_compile_definitions_ifdef(CONFIG_VND_API_SET_CON_TX_POWER CFG_VND_API_SET_CON_TX_POWER)
endif()
